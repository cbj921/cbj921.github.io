window.__require=function e(t,i,n){function c(s,a){if(!i[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+s+"'")}}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){return c(t[s][1][e]||e)},d,d.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<n.length;s++)c(n[s]);return c}({GameModel:[function(e,t,i){"use strict";cc._RF.push(t,"b87e00jOhdGp6kTcpiIrvHy","GameModel"),cc.Class({extends:cc.Component,properties:{score:0,brickNumber:30},init:function(){this.score=0,this.brickNumber=30},addScore:function(e){this.score+=e},minusBrick:function(e){this.brickNumber-=e}}),cc._RF.pop()},{}],GameView:[function(e,t,i){"use strict";cc._RF.push(t,"9247bqFKrRGYoJsI7erQYmq","GameView"),cc.Class({extends:cc.Component,properties:{scoreLabel:cc.Label},init:function(e){this.gameCtl=e,this.scoreLabel.string="0"},updateScore:function(e){this.scoreLabel.string=e},start:function(){}}),cc._RF.pop()},{}],ball:[function(e,t,i){"use strict";cc._RF.push(t,"d48a6o3/GxCQLsmb8ksTxks","ball"),cc.Class({extends:cc.Component,properties:{},init:function(e){this.gameCtl=e,this.node.position=cc.v2(325,155),this.getComponent(cc.RigidBody).linearVelocity=cc.v2(800,800)},onBeginContact:function(e,t,i){switch(i.tag){case 0:this.gameCtl.onBallContactWall(t.node,i.node);break;case 1:this.gameCtl.onBallContactGround(t.node,i.node);break;case 2:this.gameCtl.onBallContactPaddle(t.node,i.node);break;case 3:this.gameCtl.onBallContactBrick(t.node,i.node)}}}),cc._RF.pop()},{}],brickLayout:[function(e,t,i){"use strict";cc._RF.push(t,"96910JL7m5CSZtAPs8L/kHq","brickLayout");cc.Class({extends:cc.Component,properties:{brickPrefab:{default:null,type:cc.Prefab},padding:0,spacing:0,cols:0,bricksNumber:0},init:function(e){this.node.removeAllChildren(),this.bricksNumber=e;for(var t=0;t<this.bricksNumber;t++){var i=cc.instantiate(this.brickPrefab);i.parent=this.node,i.x=this.padding+t%this.cols*(i.width+this.spacing)+i.width/2,i.y=-this.padding-Math.floor(t/this.cols)*(i.height+this.spacing)-i.height/2}}}),cc._RF.pop()},{}],gameCtl:[function(e,t,i){"use strict";cc._RF.push(t,"75bdcKFeshCi7IblEdDR8Iz","gameCtl");var n=e("GameModel");cc.Class({extends:cc.Component,properties:{gameView:e("GameView"),ball:e("ball"),paddle:e("paddle"),brickLayout:e("brickLayout"),overPanel:e("overPanel")},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){e.keyCode===cc.KEY.back&&cc.director.end()}),this.physicsManager=cc.director.getPhysicsManager(),this.gameModel=new n,this.startGame()},init:function(){this.physicsManager.enabled=!0,this.gameModel.init(),this.gameView.init(this),this.ball.init(this),this.paddle.init(this),this.brickLayout.init(this.brickLayout.bricksNumber),this.overPanel.init(this)},startGame:function(){this.init()},pauseGame:function(){this.physicsManager.enabled=!1},resumeGame:function(){this.physicsManager.enabled=!0},stopGame:function(){this.physicsManager.enabled=!1,this.overPanel.show(this.gameModel.score,0===this.gameModel.brickNumber)},onBallContactBrick:function(e,t){t.parent=null,this.gameModel.addScore(1),this.gameModel.minusBrick(1),this.gameView.updateScore(this.gameModel.score),t.destroy(),this.gameModel.brickNumber<=0&&this.stopGame()},onBallContactGround:function(e,t){this.stopGame()},onBallContactWall:function(){},onBallContactPaddle:function(){}}),cc._RF.pop()},{GameModel:"GameModel",GameView:"GameView",ball:"ball",brickLayout:"brickLayout",overPanel:"overPanel",paddle:"paddle"}],overPanel:[function(e,t,i){"use strict";cc._RF.push(t,"6316bqbsR5DOZCpbc7rUBkn","overPanel"),cc.Class({extends:cc.Component,properties:{resultLabel:cc.Label,scoreLabel:cc.Label},onLoad:function(){},init:function(e){this.gameCtl=e,this.node.active=!1},show:function(e,t){this.node.active=!0,this.resultLabel.string=t?"YOU WIN":"YOU LOSE",this.scoreLabel.string="SCORE: "+e},onBtnRestart:function(){this.gameCtl.startGame()}}),cc._RF.pop()},{}],paddle:[function(e,t,i){"use strict";cc._RF.push(t,"b84d7w1DrxKsZhJhdksT5KF","paddle"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){var e=this;this.node.parent.on("touchmove",function(t){var i=e.node.parent.convertToNodeSpaceAR(t.getLocation());e.node.x=i.x})},init:function(){this.node.x=323}}),cc._RF.pop()},{}]},{},["GameModel","GameView","ball","brickLayout","gameCtl","overPanel","paddle"]);